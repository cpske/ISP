---
title: KU Polls Iteration 4
---

## Goal for Iteration 4

The objective of this iteration is to produce a good quality app that others
can install and run.  After Iteration 3, KU Polls has useful
functionality, even though not everything in the Vision Statement has been implemented.

### New and Revised Functionality

1. List of polls displays all published polls, not just newest polls. Polls are sorted by date, from newest to oldest.

### Other Work

1. Review and revise the poll questions, as needed.
   - Questions should be written in good English
   - Choices should be sufficient for the question
   - Example: "*What's your favorite car brand?*" should have more choices than just Honda, Toyota, and Mazda! Include all the major car brands and an "Other" choice.

2. Create a Markdown file `Installation.md` containing instructions for how to install and configure your app. Add a link to this file in README. Include:
   - clone or download the code from Github
   - create a virtual environment and install dependencies
   - how to set values for externalized variables
   - run migrations
   - run tests
   - install data from the data fixtures
   - **anything else** that needs to be done during installation
   - put Installation.md in your source repo instead of the wiki, so that a user can read it using his own clone w/o referring to Github

3. Test your installation instructions. 
   - Use a fresh clone from Github and follow your instructions, line by line.

4. Add "How to Run" instructions in README that include using the virtual env.

5. Code cleanup: use flake8 to find coding issues, incorrect docstring, and unused imports.  A few exceptions to flake8 code analysis are allowed such as:
   - ignore code autogenerated by Django (migrations, mysite files)
   - lines in models can be up to 100 chars long
   - minor issues like missing docstring in `__init__.py` files can be ignored

### Resolve & Close All Issues - Including Peer Review

Each student is assigned to review another student's work.

The reviewer should post issues in your repository **and** contact you when they are done testing your app.

**You** should promptly review another student's work so that they can finish their Iteration 4 work, too.

### Create a Release and Tag on Github

After peer review and resolving all issues, push your work to Github and
create a `v1.0.0` Release of your code on Github.  Include:

- a descriptive comment of what features are included or not implemented in this release.  Write how to report issues, too.
- a tag using a standard format.

Look at some repos in <https://github.com/pypa/> for examples of release numbering, release tags, and descriptions. 

Your release (1.0.0) uses [Semantic Versioning](https://semver.org/), where each of the 3 numbers has rules for when to increment the version.  Some projects use Date Versioning, e.g. 2023.9.8 (pipenv) but we're not doing that here.


### Process Requirements

1. Create an Iteration 4 Plan in your wiki.
2. Add Iteration 4 tasks to your Project and to an "Iteration 4" task board.
   - Also convert tasks to "Issues".
3. Do work on an `iteration4` branch and push it to Github regularly.
4. When finished, open a PR and merge into `main` (of course).
5. Get peer feedback.  Fix all issues using a branch, OK to use `iteration4` branch. You can merge again into `main` when done.

### Data Fixtures

You already know how to do create data fixtures.  Here are a few details on the use of `dumpdata`.

- Dump the data for all tables in the `polls` app:
  ```
  python manage.py dumpdata --indent=2 -o somefile polls
  ```

- Dump data only for the Question and Choice tables (no votes).
  ```
  python manage.py dumpdata --indent=2 polls.question polls.choice
  ```

- Dump the auth.user data to a file `data/users.json`
  ```
  python manage.py dumpdata --indent=2 -o data/users.json auth.user
  ```

If you dump *all* data from the `auth` app (not just `auth.user`), you may have conflicts when you try to import the data. This is because migrations add some data to the `auth` database tables.


### Suggestion for Polls Data

Consider using one file for the Questions and Choices data, and a separate file for the votes data.  This way, you can create a new installation that has poll questions but no votes. A real deployment would not include your demo users, so it would not include their votes, either.


### Resources

- [Data Import and Export](https://cpske.github.io/ISP/django/data-import-export), my summary.
- [Providing Initial Data for Models](https://docs.djangoproject.com/en/2.2/howto/initial-data/) in the official Django docs.
- [Data Migrations](https://realpython.com/data-migrations/) on RealPython.com describes how to create a migration for initial data.
